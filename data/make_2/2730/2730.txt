if all the candidate templates have been used, compression rates for the cases of using each of all the candidate templates are compared with each other ins 4. thereby ins 5, the optimum template is determined to be the template with the highest compression rate.